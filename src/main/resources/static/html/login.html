<!DOCTYPE html>
<!--
   Stellar by HTML5 UP
   html5up.net | @ajlkn
   Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
<head>
    <!--    <meta name="viewport" content="width=device-width,initial-scale=1">-->
    <title>1학년 1반 주식투자</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="/static/html/assets/css/main.css"/>
    <noscript>
        <link rel="stylesheet" href="/static/html/assets/css/noscript.css"/>
    </noscript>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
</head>

<body class="is-preload">

<!-- Wrapper -->
<div id="wrapper">

    <!-- Header -->
    <header id="header" class="alt">
        <span class="logo"><img src="/static/html/images/coin.png" alt=""/></span>
        <h1>삼선전자</h1>
        1학년 1반에서 만든 주식투자 사이트입니다<br/>
        제작자: <a href="">@김서호</a> / <a href="">@김주한</a> / <a href="">@신희찬</a> / <a href="">@박종현</a> / <a href="">@인유민</a> / <a href="">@김지민</a>
    </header>

    <div style="text-align: center">
        <section class="main special">
            <div class="row gtr-uniform">
                <div class="col-12">
                    <input type="text" id="ID" value="" placeholder="id" style="width: 100%;"/>
                    <input type="text" id="pw" value="" placeholder="password" style="width: 100%;"/>
                    <label id="LABEL" style="color: maroon"></label>
                    <footer class="major">
                        <ul class="actions stacked">
                            <li><a id="LOGIN" class="button large primary disabled">LOG IN</a></li>
                        </ul>
                    </footer>
                </div>
            </div>
        </section>
    </div>

    <footer id="footer">
        <section>
            <h2>우리는 한국 과학의 미래를 선도한다</h2>
            <p>교훈은 切問近思(절문근사)로 논어의 한 구절을 따왔다.
                절문(切問)은 궁극적인 관심을 가지고 진지하게 묻고 고민하는 것을 말하며 창의성 및 수월성 교육을 뜻 한다.
                근사(近思)는 다른 사람의 일을 자신의 일상사를 중심으로 잘 정리하는 것을 말하며, 인성 교육을 뜻한다.
            </p>
            <ul class="actions">
                <li><a href="https://namu.wiki/w/%EA%B2%BD%EA%B8%B0%EB%B6%81%EA%B3%BC%ED%95%99%EA%B3%A0%EB%93%B1%ED%95%99%EA%B5%90" class="button">경기북과학고등학교</a></li>
                <li><a href="https://gbs.wiki/w/GBSWiki:%EB%8C%80%EB%AC%B8" class="button">북곽위키</a></li>
            </ul>
        </section>
        <section>
            <dl class="alt">
                <dt>Address</dt>
                <dd>경기도 의정부시 체육로 135번길 32 (녹양동)</dd>
                <dt>Phone</dt>
                <dd>031-870-2764</dd>
            </dl>
            <ul class="icons">
                <!--                <li><a href="https://www.instagram.com/hichan0310/" class="icon brands fa-instagram alt"><span-->
                <!--                        class="label">Instagram</span></a></li>-->
                <li><a href="https://github.com/hichan0310" class="icon brands fa-github alt"><span
                        class="label">GitHub</span></a></li>
                <!--                <li><a href="https://www.instagram.com/millio_120/" class="icon brands fa-instagram alt"><span-->
                <!--                        class="label">Instagram</span></a></li>-->
            </ul>
        </section>
        <!--        <p class="copyright">&copy; Untitled. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>  -->
    </footer>

</div>


<script>

    $("#ID").on("propertychange change keyup paste input", function () {
        document.getElementById("LABEL").innerText = "";
        if(document.getElementById("ID").value && document.getElementById("pw").value){
            document.getElementById("LOGIN").className = "button large primary"
        }
        else{
            document.getElementById("LOGIN").className = "button large primary disabled"
        }
    })
    $("#pw").on("propertychange change keyup paste input", function () {
        document.getElementById("LABEL").innerText = ""
        if(document.getElementById("ID").value && document.getElementById("pw").value){
            document.getElementById("LOGIN").className = "button large primary"
        }
        else{
            document.getElementById("LOGIN").className = "button large primary disabled"
        }
    })

    const url = 'http://192.168.24.182:8080'

    document.getElementById("LOGIN").onclick = function () {

        console.log(document.getElementById("ID").value, document.getElementById("pw").value)

        fetch_await().then(x => {
            console.log(x)

            if(x['loginfail']){
                document.getElementById("LABEL").innerText = "아이디 혹은 비밀번호가 틀렸습니다."
            }
            else{
                location.href = "main"
            }
        })
    }

    async function fetch_await () {
        const response = await fetch(url + "/login", {
            method: 'POST',
            headers: {
                "Content-Type": "application/json",
                "Accept": "application/json",
            },
            body: JSON.stringify({
                id: document.getElementById("ID").value,
                pw: document.getElementById("pw").value
            })
        });

        return response.json()
    }

</script>
<!-- Scripts -->
<script src="/static/html/assets/js/jquery.min.js"></script>
<script src="/static/html/assets/js/jquery.scrollex.min.js"></script>
<script src="/static/html/assets/js/jquery.scrolly.min.js"></script>
<script src="/static/html/assets/js/browser.min.js"></script>
<script src="/static/html/assets/js/breakpoints.min.js"></script>
<script src="/static/html/assets/js/util.js"></script>
<script src="/static/html/assets/js/main.js"></script>

</body>
</html>